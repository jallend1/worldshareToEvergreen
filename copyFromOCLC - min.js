javascript:!function(){let addressObject={attention:null,line1:null,line2:null,locality:null,region:null,postal:null};const convertStateNameToAbbreviation=e=>({Alabama:"AL",Alaska:"AK","American Samoa":"AS",Arizona:"AZ",Arkansas:"AR",California:"CA",Colorado:"CO",Connecticut:"CT",Delaware:"DE","District Of Columbia":"DC","Federated States Of Micronesia":"FM",Florida:"FL",Georgia:"GA",Guam:"GU",Hawaii:"HI",Idaho:"ID",Illinois:"IL",Indiana:"IN",Iowa:"IA",Kansas:"KS",Kentucky:"KY",Louisiana:"LA",Maine:"ME","Marshall Islands":"MH",Maryland:"MD",Massachusetts:"MA",Michigan:"MI",Minnesota:"MN",Mississippi:"MS",Missouri:"MO",Montana:"MT",Nebraska:"NE",Nevada:"NV","New Hampshire":"NH","New Jersey":"NJ","New Mexico":"NM","New York":"NY","North Carolina":"NC","North Dakota":"ND","Northern Mariana Islands":"MP",Ohio:"OH",Oklahoma:"OK",Oregon:"OR",Palau:"PW",Pennsylvania:"PA","Puerto Rico":"PR","Rhode Island":"RI","South Carolina":"SC","South Dakota":"SD",Tennessee:"TN",Texas:"TX",Utah:"UT",Vermont:"VT","Virgin Islands":"VI",Virginia:"VA",Washington:"WA","West Virginia":"WV",Wisconsin:"WI",Wyoming:"WY"}[e]),assignAddressObjectValues=e=>{if("region"===e){let a=document.querySelectorAll('span[data="returning.address.region"]');a.length>0?addressObject[e]={Alabama:"AL",Alaska:"AK","American Samoa":"AS",Arizona:"AZ",Arkansas:"AR",California:"CA",Colorado:"CO",Connecticut:"CT",Delaware:"DE","District Of Columbia":"DC","Federated States Of Micronesia":"FM",Florida:"FL",Georgia:"GA",Guam:"GU",Hawaii:"HI",Idaho:"ID",Illinois:"IL",Indiana:"IN",Iowa:"IA",Kansas:"KS",Kentucky:"KY",Louisiana:"LA",Maine:"ME","Marshall Islands":"MH",Maryland:"MD",Massachusetts:"MA",Michigan:"MI",Minnesota:"MN",Mississippi:"MS",Missouri:"MO",Montana:"MT",Nebraska:"NE",Nevada:"NV","New Hampshire":"NH","New Jersey":"NJ","New Mexico":"NM","New York":"NY","North Carolina":"NC","North Dakota":"ND","Northern Mariana Islands":"MP",Ohio:"OH",Oklahoma:"OK",Oregon:"OR",Palau:"PW",Pennsylvania:"PA","Puerto Rico":"PR","Rhode Island":"RI","South Carolina":"SC","South Dakota":"SD",Tennessee:"TN",Texas:"TX",Utah:"UT",Vermont:"VT","Virgin Islands":"VI",Virginia:"VA",Washington:"WA","West Virginia":"WV",Wisconsin:"WI",Wyoming:"WY"}[a[a.length-1].innerText]:addressObject[e]="NONE"}else{let a=document.querySelectorAll(`input[data="returning.address.${e}"]`);a.length>0?addressObject[e]=a[a.length-1].value:addressObject[e]=null}};Object.keys(addressObject).forEach(assignAddressObjectValues);const createAddressString=()=>{let e="";document.querySelector(%27span[data="lenderString.currentSupplier.symbol"]%27);return isBLP()&&(e+=extractDueDate()+"\n\n"),isWCCLS()&&(e+=WCCLSprompt()+"\n\n"),Object.keys(addressObject).forEach((a=>{switch(a){case"attention":case"line1":case"line2":""!==addressObject[a]&&(e+=addressObject[a]+"\n");break;case"locality":e+=addressObject[a]+", ";break;case"region":e+=addressObject[a]+" ";break;case"postal":e+=addressObject[a]}})),e},isBLP=()=>{const e=document.querySelector(%27span[data="lenderString.currentSupplier.symbol"]%27);return!!e.innerText&&"BLP"===e.innerText},extractDueDate=()=>{const e=document.querySelector(%27span[data="returning.originalDueToSupplier"]%27);return e.innerText?"OCLC Due Date: "+e.innerText:null},isWCCLS=()=>{const e=document.querySelector(%27span[data="lenderString.currentSupplier.symbol"]%27);return!!e.innerText&&"OQX"===e.innerText},WCCLSprompt=()=>{let e="",a="",t="";return t=document.querySelector(%27span[data="resource.title"]%27).innerText,t&&(e="Title: "+t+"\n"),a="WCCLS barcode: "+prompt("Whoa there! This is from WCCLS! Please write the 4-digit code from their paperwork. (Also can be found as the last four digits of THEIR barcode)"),a&&(e+=a),e},compileRequestData=()=>{const e=createAddressString(),a=document.querySelectorAll(".accordionRequestDetailsRequestId"),t=a[a.length-1].textContent,n=document.querySelectorAll(%27span[data="resource.title"]%27),r=n[n.length-1].textContent,s=document.querySelectorAll(%27input[data="requester.patron.userId"]%27);return[{addressString:e},{requestNumber:t},{title:r},{patronID:s[s.length-1].value}]},convertDataToJSON=e=>JSON.stringify(e),compiledData=compileRequestData(),stringifiedData=convertDataToJSON(compiledData);navigator.clipboard.writeText(stringifiedData);}();